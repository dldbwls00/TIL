? t.test
x <- rep("A",10)
xx <- matrix(x,2)
xx
dim(x) <- c(3,3)
2*5*16
install.packages("coin")
install.packages("exactRankTests")
? exactRankTests::wilcox.exact
? kruskal.test
install.packages("pgirmess")
install.packages("agricolae")
? jonckneere.test
? jonckheere.test
? jonckheere.test
install.packages("clinfun")
? clinfun::jonckheere.test
install.packages("crank")
? crank::page.trend.test
soa.mat<-matrix(c(.797,.873,.888,.923,.942,.956,
.794,.772,.908,.982,.946,.913,
.838,.801,.853,.951,.883,.837,
.815,.801,.747,.859,.887,.902),nrow=4,byrow=TRUE)
soa.mat
crank::page.trend.test(soa.mat)
crank::page.trend.test(soa.mat,ranks=F)
p0 <- 0.5886
phat <- 0.5865
n <- 100000000
(phat-p0)/sqrt(p0*(1-p0)/n)
phat <- 0.8823
p0 <- 0.8831
(phat-p0)/sqrt(p0*(1-p0)/n)
x <- rnorm(20)
y <- x+rnorm(20)
x
y
plot(x,y)
yy <- 2*x+1
x <- scale(x)
y <- scale(y)
y <- scale(yy)
y <- x+rnorm(20)
yy <- scale(yy)
y <- scale(y)
par(mfrow=c(1,2))
plot(x,y)
plot(x,y,xlim=c(-2,2),ylim=c(2,2))
plot(x,y,xlim=c(-2,2),ylim=c(-2,2))
abline(h=0)
abline(v=0)
y <- x
plot(x,y,xlim=c(-2,2),ylim=c(-2,2))
abline(h=0)
abline(v=0)
x <- nrom(x)
x <- scale(x)
y <- x
sum(x*y)
sum(abs(x))
sum(abs(y))
sum(x*y)
y <- x+rnorm(20)
y <- scale(y)
sum(x*y)
sum(abs(y))
x <- nrom(x)
u <- scale(x)
v <- x
plot(u,v,xlim=c(-2,2),ylim=c(-2,2))
abline(h=0)
abline(v=0)
y <- x+rnorm(20)
v <- scale(y)
plot(u,v,xlim=c(-2,2),ylim=c(-2,2))
abline(h=0)
abline(v=0)
sum(v)
sum(abs(v))
sum(abs(u))
y <- scale(norm(20))
y <- scale(rnorm(20))
sum(abs(y))
abline(0,1)
y <- x
y[10] <- 2
y <- scale(y)
x <- nrom(x)
u <- scale(x)
v <- x
plot(u,v,xlim=c(-2,2),ylim=c(-2,2))
abline(h=0)
abline(v=0)
y <- x
y[10] <- 2
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
y <- x
y[10] <- 1.5
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
y <- x
y[10] <- 1.1
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
y <- x
y[10] <- 2
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
x[10]
y[10]
sum(abs(x[-10]))
sum(abs(y[-10]))
sum(abs(y))
sum(abs(u))
y <- x
y[10] <- 0
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
sum(abs(y))
y <- x
y[10] <- 10
y <- scale(y)
sum(abs(y))
y <- x
y[1:10] <- 0
y <- scale(y)
sum(abs(y))
x <- nrom(x)
u <- scale(x)
v <- x
plot(u,v,xlim=c(-2,2),ylim=c(-2,2))
abline(h=0)
abline(v=0)
y <- x
y[10] <- 2
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
par(mfrow=c(1,3))
x <- nrom(x)
u <- scale(x)
v <- x
plot(u,v,xlim=c(-2,2),ylim=c(-2,2))
abline(h=0)
abline(v=0)
y <- x
y[10] <- 10
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
y <- x
y[10] <- -10
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
par(mfrow=c(1,3))
x <- nrom(x)
u <- scale(x)
v <- x
plot(u,v,xlim=c(-2,2),ylim=c(-2,2))
abline(h=0)
abline(v=0)
y <- x
y[10] <- 4
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
y <- x
y[10] <- -4
y <- scale(y)
plot(u,y,xlim=c(-2,2),ylim=c(-2,2),ylab="v")
abline(h=0)
abline(v=0)
par(mfrow=c(1,3))
k <- 4
x <- nrom(x)
u <- scale(x)
v <- x
plot(u,v,xlim=c(-k,k),ylim=c(-k,k))
abline(h=0)
abline(v=0)
y <- x
y[10] <- 3
y <- scale(y)
plot(u,y,xlim=c(-k,k),ylim=c(-k,k),ylab="v")
abline(h=0)
abline(v=0)
y <- x
y[max(x)==x] <- 0.1
y <- scale(y)
plot(u,y,xlim=c(-k,k),ylim=c(-k,k),ylab="v")
abline(h=0)
abline(v=0)
98115-97775
340/98115
98436-97021
(98436-97021)/98436
exp(-0.6238*log(0.9))
exp(-0.6238*log(1))
"A" & "B"
NA & T
T | F & T
T | T & F
(T|F)&T
(T|T)&F
! T & T
! T & F
! T | T
!T | !T
!T | T
T | !T
x <- 40:100
plot(x,9-floor(x/10))
x <- 40:100
plot(x,9-floor(x/10),xlab="?ìˆ˜",ylab="?¸ë±??, col="blue")
par(mar=c(4,4,2,2))
x <- 40:100
plot(x,9-floor(x/10),xlab="?ìˆ˜",ylab="?¸ë±??, col="blue")
2^20-1
? table
x <- c(1,2,3,NA)
table(x,exclude=NULL)
table
table(x)
install.packages('questionr')
library(questionr)
? wtd.table
wtd.table(x)
wtd.table(x,exclude=NULL)
wtd.table(x,na.rm=F)
x
wtd.table(x,na.show=T)
y <- c(3,2,NA,4)
wtd.table(x,weight=y,na.show=T)
choose(22,5)
choose(22,5)*1000
library(SPADE.RIVM)
library(SPADE.RIVM)
install.packages("gamlss")
library(SPADE.RIVM)
install.packages("mfp")
library(SPADE.RIVM)
install.packages("rpart.plot")
library(SPADE.RIVM)
install.packages("lme4")
library(SPADE.RIVM)
source("http://goo.gl/ZNEFj1")
install.packages("devtools")
devtools::install_github('rstudio\rmarkdown')
devtools::install_github('rstudio/rmarkdown')
install.packages("tinytex")
tinytex::install_tinytex()
x <- matrix(c(1,2,3,4),2,2)
y <- matrix(1:8,4,2)
y
y[5]
x+y
x <- c(1,2)
x+y
par(mfrow=c(2,2))
x <- c(1,2,3)
plot(x)
plot(x)
par(mar=c(4,4,2,2), mfrow=c(2,1))
head(iiris
)
head(iris)
plot(iris$Sepal.Length,iris$Sepal.Width, pch=16,col=as.integer(iris$Species))
grid()
plot(iris$Sepal.Length,iris$Sepal.Width, pch=16,col=as.integer(iris$Species))
grid(3,4,lty=2,lwd=1.2,col="blue")
m <- matrix(c(1,1,2,3), ncol=2, byrow=T)
m
layout(mat=m)
cars
plot(cars, main="scatter plot of cars data", pch=19, col=4)
hist(cars$speed)
hist(cars$dist)
m <- matrix(c(1,1,2,3), ncol=2)
m
layout(mat=m)
plot(cars, main="scatter plot of cars data", pch=19, col=4)
hist(cars$speed); hist(cars$dist)
par(mfrow=c(1,1))
plot(0,0,xlim=c(0,26.5),ylim=c(-0.05,34.25),xlab="",ylab="",type="n",axes=F)
seq(from=0.1, by=0.05, length=13)
seq(0,1,by=0.1)
seq(0,1,length.out = 10)
seq(0,1,length.out = 11)
grayscale <- gray(seq(from=0.1, by=0.05, length=13))
xpos <- seq(from=1, by=2, length=13)
rep(23,13)
xpos
xpos <- seq(from=1, by=2, length=13) # xì¶• ì¢Œì£ 
ypos <- rep(23,13)  # yì¶• ì¢Œí‘œ
points(ypos ~ xpos, cex=3, col=grayscale, pch=0:12)
ypos2 <- ypos-4
points(ypos2 ~ xpos, cex=3, col=rev(grayscale), pch=13:25)
text(ypos ~ xpos, labels=0:12, cex=0.75)
text(ypos2 ~ xpos, labels=13:25, cex=0.75)
xpos <- c(21.5, 23.5, 25.5); ypos <- rep(15, 3);
points(ypos~xpos, pch=0:2, cex=4:2, col=gray(c(.2,.4,.6)))
xpos <- c(22.5, 21.5, 22.5, 23.5); ypos <- c(6,7,9,7);
points(ypos ~ xpos, pch=16, cex=1.5, col=gray((1:4)/5))
posText <- c("below (pos=1)", "left (2)", "above (3)", "right (4)")
posText
1:4
text(ypos~xpos, labels=posText, pos=1:4)
mtext(side=4, line=0.5, text="Side 4", adj=1)
for(i in 1:3)
mtext(side=i, line=0.5, text=paste("Side",i))
labpos <- c(0, 6:7, 9, 15, 19, 23)
labpos
axis(side=3, at=5, col="red",las=2)
axis(side=2, at=5, col="red",las=1)
for(pos in labpos)
axis(side=3, at=pos, col="red",las=2)
cols <- colors()
cols
length(cols)
col2rgb("red")
clr.1 <- c("#000000","#FF0000","#00FF00","#0000FF")
clr.2 <- c("#00FFFF","#FF00FF","#FFFF00","#FFFFFF")
par(mar=rep(3,4), mfrow=c(2,1))
barplot(rep(1,4), col=clr.1, axes=F,main="black, red, green, blue")
barplot(rep(1,4), col=clr.2, axes=F,main="cyan, magenta, yellow, white")
library(ggplot2)
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+geom_point()
library(ggplot2)
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+geom_point()
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+
geom_point()
g1 <- ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
g1
g1+geom_point()
g1+
geom_point()
g2 <- g1+geom_point()
g2
ggplot(data=mpg) +
geom_point(mapping= aes(x=displ, y=hwy, color=class))
g2 + coord_flip()
library(ggplot2)
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+geom_point()
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+
geom_point()
g1 <- ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
g1
g1+geom_point()
g2 <- g1+geom_point()
g2
ggplot(data=mpg) +
geom_point(mapping= aes(x=displ, y=hwy, color=class))
g2 + coord_flip()
g2
g2 + facet_grid(.~class)
g2 + facet_grid(classgraphics.off()~.)
g2 + facet_grid(class~.)
g2 + facet_grid(fl~class)
? mean
install.packages("xlsx")
install.packages("xlsx")
install.packages("xlsx")
install.packages("xlsx",dependencies = TRUE, INSTALL_opts = c('--no-lock') )   # Excel íŒŒì¼ ì½ê¸°
unlink("C:\Users\no1papa\Documents\R\win-library\4.0/00LOCK-Rcpp", recursive = TRUE)
unlink("C:/Users/no1papa/Documents/R/win-library/4.0/00LOCK-Rcpp", recursive = TRUE)
install.packages("xlsx")   # Excel íŒŒì¼ ì½ê¸°
install.packages("xlsx",dependencies = TRUE, INSTALL_opts = '--no-lock')
install.packages("xlsx")   # Excel íŒŒì¼ ì½ê¸°
? read.xlsx
require(xlsx)
? read.xlsx
detach("package:xlsx",unload=T)
? read.xlsx
? xlsx::read.xlsx
library(xlsx)
? read.xlsx
if(!require(xlsx))
{
install.packages("xlsx")
library(xlsx)
}
Data1 <- read.xlsx("Employee.xlsx", sheetIndex=1)
? mcnemar.test
matrix(c(794, 86, 150, 570),
nrow = 2,
dimnames = list("1st Survey" = c("Approve", "Disapprove"),
"2nd Survey" = c("Approve", "Disapprove")))
library(ggplot2)
## í† ëŒ€ ìƒì„±
## ggplot(dfrm,aes())
## data: mpg : Fuel economy data from 1999 to 2008 for 38 popular models of cars
### - displ : engine displacement, in litres(ì—”ì§„ ë°°ê¸°ëŸ‰)
### - hwy: ê³ ì†ë„ë¡œ ì—°ë¹„(mpg)
### - class: ìë™ì°¨ ì¢…ë£Œ
### - fl: ì—°ë£Œ ì¢…ë¥˜
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
## í† ëŒ€ì— ì  ì°ê¸°(ì‚°ì ë„)
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+geom_point()
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+
geom_point()
g1 <- ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
g1+geom_point()
g2 <- g1+geom_point()
g2
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
## í† ëŒ€ ìƒì„±
## ggplot(dfrm,aes())
## data: mpg : Fuel economy data from 1999 to 2008 for 38 popular models of cars
### - displ : engine displacement, in litres(ì—”ì§„ ë°°ê¸°ëŸ‰)
### - hwy: ê³ ì†ë„ë¡œ ì—°ë¹„(mpg)
### - class: ìë™ì°¨ ì¢…ë£Œ
### - fl: ì—°ë£Œ ì¢…ë¥˜
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
## í† ëŒ€ì— ì  ì°ê¸°(ì‚°ì ë„)
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+geom_point()
ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))+
geom_point()
g1 <- ggplot(data=mpg, aes(x=displ, y=hwy, colour=class))
g1+geom_point()
g2 <- g1+geom_point()
g2
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
setwd("E:/í†µê³„í”„ë¡œê·¸ë˜ë°/data")
setwd("E:\\í†µê³„í”„ë¡œê·¸ë˜ë°\\data")
getwd()
dir()
íŒŒì¼ì´ë¦„ <- dir()
íŒŒì¼ì´ë¦„
### Excel íŒŒì¼ í™•ì¸(xlsxë§Œ ì‚¬ìš©)
íŒŒì¼ê°œìˆ˜ <- length(íŒŒì¼ì´ë¦„)
ì´ë¦„ë¶„í•´ <- strsplit(íŒŒì¼ì´ë¦„,"[[:punct:]]")
### - ì´ë¦„ë¶„í•´: list
í™•ì¥ì <- sapply(ì´ë¦„ë¶„í•´,function(x) x[length(x)])
ì—‘ì…€íŒŒì¼ <- íŒŒì¼ì´ë¦„[í™•ì¥ì == "xlsx"]
ì—‘ì…€íŒŒì¼ <- sort(ì—‘ì…€íŒŒì¼)
ì—‘ì…€ê°œìˆ˜ <- length(ì—‘ì…€íŒŒì¼)
ì „ì²´ìë£Œ <- NULL
for (i in 1:ì—‘ì…€ê°œìˆ˜)
{
dfrm <- xlsx::read.xlsx(ì—‘ì…€íŒŒì¼[i],sheetIndex=1)
dfrm$month <- i
ì „ì²´ìë£Œ <- rbind(ì „ì²´ìë£Œ,dfrm)
}
head(ì „ì²´ìë£Œ)
tail(ì „ì²´ìë£Œ)
ì—‘ì…€íŒŒì¼
nchar(ì—‘ì…€íŒŒì¼)
nchar(ì—‘ì…€íŒŒì¼)-5
substring(ì—‘ì…€íŒŒì¼,1,nchar(ì—‘ì…€íŒŒì¼)-5)
ê·¸ë¦¼íŒŒì¼ <- substring(ì—‘ì…€íŒŒì¼,1,nchar(ì—‘ì…€íŒŒì¼)-5)
paste(ê·¸ë¦¼íŒŒì¼,".jpg",sep="")
ê·¸ë¦¼íŒŒì¼ <- paste(ê·¸ë¦¼íŒŒì¼,".jpg",sep="")
ê·¸ë¦¼íŒŒì¼
i <- 1
dfrm <- xlsx::read.xlsx(ì—‘ì…€íŒŒì¼[i],sheetIndex=1)
head(dfrm)
par(mfrow=c(1,2))
par(mfrow=c(1,2))
plot(Y~X1,col=Group,data=dfrm)
dfrm$Group <- as.factor(dfrm$Group)
plot(Y~X1,col=Group,data=dfrm)
par(mfrow=c(1,2))
dfrm$Group <- as.factor(dfrm$Group)
plot(Y~X1,col=Group,data=dfrm)
legend("topleft",legend=c("A","B"),pch=1,col=c(1,2))
plot(Y~X2,col=Group, dfrm)
legend("topright",legend=c("A","B"),pch=1,col=c(1,2))
dfrm <- xlsx::read.xlsx(ì—‘ì…€íŒŒì¼[i],sheetIndex=1)
jpeg(ê·¸ë¦¼íŒŒì¼[i])
par(mfrow=c(1,2))
dfrm$Group <- as.factor(dfrm$Group)
plot(Y~X1,col=Group,data=dfrm)
legend("topleft",legend=c("A","B"),pch=1,col=c(1,2))
plot(Y~X2,col=Group, dfrm)
legend("topright",legend=c("A","B"),pch=1,col=c(1,2))
dev.off()
ì—‘ì…€ê°œìˆ˜
for (i in 1:ì—‘ì…€ê°œìˆ˜)
{
dfrm <- xlsx::read.xlsx(ì—‘ì…€íŒŒì¼[i],sheetIndex=1)
jpeg(ê·¸ë¦¼íŒŒì¼[i])
par(mfrow=c(1,2))
dfrm$Group <- as.factor(dfrm$Group)
plot(Y~X1,col=Group,data=dfrm)
legend("topleft",legend=c("A","B"),pch=1,col=c(1,2))
plot(Y~X2,col=Group, dfrm)
legend("topright",legend=c("A","B"),pch=1,col=c(1,2))
dev.off()
}
